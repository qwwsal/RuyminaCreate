<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ryumina Create - –ü—Ä–æ—Ñ–∏–ª—å</title>
  <link rel="stylesheet" href="./ProfilePageStyle.css" />
  <link rel="icon" type="image/svg+xml" href="./Image/favicon.svg">
</head>
<body>
  <header>
    <img class="logo" src="./Image/logo.svg" alt="–õ–æ–≥–æ—Ç–∏–ø" />

    <nav role="navigation" aria-label="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">
      <a href="./MainPage.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="./ServicePage.html">–£—Å–ª—É–≥–∏</a>
      <a href="./PortfolioPage.html">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a>
      <a href="./ReviewsPage.html">–û—Ç–∑—ã–≤—ã</a>
    </nav>

    <a href="#" id="profileLink" aria-label="–ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è">
      <img class="user" src="./Image/User.svg" alt="–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
    </a>
  </header>

  <main>
    <section class="user-info" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ">
      <h2>–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h2>
      <p><b>–ò–º—è:</b> <span id="userFirstName"></span></p>
      <p><b>–§–∞–º–∏–ª–∏—è:</b> <span id="userLastName"></span></p>
      <p><b>–ü–æ—á—Ç–∞:</b> <span id="userEmail"></span></p>
      <p><b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> <span id="userPhone"></span></p>
      <button id="logoutBtn" aria-label="–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞" style="display: block; margin: 20px auto;">–í—ã–π—Ç–∏</button>
    </section>

    <section class="orders-block" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
      <h2>–ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
      <div id="ordersContainer" role="list"></div>
    </section>
  </main>

  <footer>
  <div class="footer-logo">
    <img class="logo" src="./Image/logo.svg" />
  </div>
  <div>–Ø –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö</div>
  <div class="social-icons" role="list" aria-label="–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏">
    <a href="https://www.instagram.com/iitspo?igsh=MjAxNG8wMGd3cXo2" target="_blank" rel="noopener noreferrer">
      <img class="socials" src="./Image/Instagram.svg" alt="Instagram" />
    </a>
    <a href="https://www.behance.net/polinaryumina" target="_blank" rel="noopener noreferrer">
      <img class="socials" src="./Image/Behance.svg" alt="Behance" />
    </a>
    <a href="https://vk.com/iprmn" target="_blank" rel="noopener noreferrer">
      <img class="socials" src="./Image/VK.svg" alt="VK" />
    </a>
  </div>
</footer>

  <script>
    // –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï API URL –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê
    const API_URL = window.location.origin;
    console.log('API URL:', API_URL);

    const profileLink = document.getElementById('profileLink');
    const logoutBtn = document.getElementById('logoutBtn');
    const userFirstName = document.getElementById('userFirstName');
    const userLastName = document.getElementById('userLastName');
    const userEmail = document.getElementById('userEmail');
    const userPhone = document.getElementById('userPhone');
    const ordersContainer = document.getElementById('ordersContainer');

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    function checkAuth() {
      const userStr = localStorage.getItem('user');
      console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ localStorage:', userStr);
      
      if (!userStr) {
        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
        return null;
      }
      
      try {
        const user = JSON.parse(userStr);
        console.log('–¢–µ–∫—É—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user);
        return user;
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
        return null;
      }
    }

    profileLink.addEventListener('click', function(e) {
      e.preventDefault();
      const user = checkAuth();
      if (!user) {
        window.location.href = './RegisterPage.html';
        return;
      }
      window.location.href = `./ProfilePage.html?userId=${user.id}`;
    });

    logoutBtn.addEventListener('click', () => {
      localStorage.removeItem('user');
      window.location.href = './AutorizationPage.html';
    });

    function getUserIdFromURL() {
      const params = new URLSearchParams(window.location.search);
      const userId = params.get('userId');
      console.log('UserId –∏–∑ URL:', userId);
      return userId;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
    function getFileIcon(filename) {
      const ext = filename.split('.').pop().toLowerCase();
      const icons = {
        pdf: 'üìÑ',
        jpg: 'üñºÔ∏è',
        jpeg: 'üñºÔ∏è',
        png: 'üñºÔ∏è',
        gif: 'üñºÔ∏è',
        doc: 'üìù',
        docx: 'üìù',
        txt: 'üìù',
        zip: 'üì¶',
        rar: 'üì¶'
      };
      return icons[ext] || 'üìé';
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ —Å—Ç–∞—Ç—É—Å–∞
    function getStatusClass(status) {
      switch(status) {
        case 'pending': return 'status-pending';
        case 'completed': return 'status-completed';
        default: return 'status-unknown';
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
    function getStatusText(status) {
      switch(status) {
        case 'pending': return '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ';
        case 'completed': return '–í—ã–ø–æ–ª–Ω–µ–Ω';
        default: return '–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
    async function getReviewForOrder(orderId, userId) {
      try {
        const response = await fetch(`${API_URL}/reviews/order/${orderId}?userId=${userId}`);
        console.log('–ü–æ–∏—Å–∫ –æ—Ç–∑—ã–≤–∞ –¥–ª—è –∑–∞–∫–∞–∑–∞:', orderId, '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', userId);
        
        if (!response.ok) {
          console.log('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –æ—Ç–∑—ã–≤–∞:', response.status);
          return null;
        }
        
        const review = await response.json();
        console.log('–ù–∞–π–¥–µ–Ω–Ω—ã–π –æ—Ç–∑—ã–≤ –¥–ª—è –∑–∞–∫–∞–∑–∞', orderId, ':', review);
        return review; // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –µ—Å–ª–∏ –æ—Ç–∑—ã–≤–∞ –Ω–µ—Ç
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –æ—Ç–∑—ã–≤–∞:', error);
        return null;
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–≤–µ–∑–¥–∞–º–∏
    function displayRatingStars(rating) {
      return `${'‚òÖ'.repeat(rating)}${'‚òÜ'.repeat(5 - rating)} (${rating}/5)`;
    }

    async function loadProfile() {
      // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
      const currentUser = checkAuth();
      if (!currentUser) {
        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é');
        window.location.href = './RegisterPage.html';
        return;
      }

      const userIdFromURL = getUserIdFromURL();
      console.log('–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID:', currentUser.id);
      console.log('UserId –∏–∑ URL:', userIdFromURL);

      let targetUserId = userIdFromURL;

      // –ï—Å–ª–∏ userId –∏–∑ URL –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
      if (!targetUserId || targetUserId != currentUser.id) {
        console.log('ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
        targetUserId = currentUser.id;
        
        // –î–æ–±–∞–≤–ª—è–µ–º userId –≤ URL —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –Ω–µ—Ç (–∏–∑–±–µ–≥–∞–µ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
        if (!userIdFromURL) {
          const newUrl = `${window.location.pathname}?userId=${targetUserId}`;
          window.history.replaceState(null, '', newUrl);
          console.log('URL –æ–±–Ω–æ–≤–ª–µ–Ω:', newUrl);
        }
      }

      try {
        console.log('–ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è userId:', targetUserId);
        const response = await fetch(`${API_URL}/profile?userId=${targetUserId}`);
        
        console.log('–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status);
        if (!response.ok) {
          throw new Error(`–û—à–∏–±–∫–∞ ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', data);

        // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ localStorage, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ
        if (!data || !data.user) {
          console.log('–°–µ—Ä–≤–µ—Ä –Ω–µ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage');
          userFirstName.textContent = currentUser.firstName || '';
          userLastName.textContent = currentUser.lastName || '';
          userEmail.textContent = currentUser.email || '';
          userPhone.textContent = currentUser.phone || '';
        } else {
          // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
          userFirstName.textContent = data.user.firstName || '';
          userLastName.textContent = data.user.lastName || '';
          userEmail.textContent = data.user.email || '';
          userPhone.textContent = data.user.phone || '';
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
        ordersContainer.innerHTML = '';
        if (data && data.orders && data.orders.length > 0) {
          // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ ID (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)
          const sortedOrders = data.orders.sort((a, b) => b.id - a.id);
          
          // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—Ç–∑—ã–≤–∞
          for (const order of sortedOrders) {
            const div = document.createElement('div');
            div.classList.add('order-item');
            
            let filesHtml = '<div class="no-files">–§–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</div>';
            try {
              const files = order.file_urls ? JSON.parse(order.file_urls) : [];
              if (files.length > 0) {
                filesHtml = `
                  <div class="files-title">–ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:</div>
                  <div class="files-list">
                    ${files.map(filePath => {
                      const url = filePath.startsWith('http') ? filePath : `${API_URL}${filePath}`;
                      const fileName = filePath.split('/').pop();
                      const fileIcon = getFileIcon(fileName);
                      return `
                        <a href="${url}" target="_blank" rel="noopener noreferrer" class="file-link">
                          <span class="file-icon">${fileIcon}</span>
                          ${fileName}
                        </a>
                      `;
                    }).join('')}
                  </div>
                `;
              }
            } catch (error) {
              console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–æ–≤:', error);
              filesHtml = '<div class="no-files">–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤</div>';
            }

            // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–∑—ã–≤ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
            const reviewForThisOrder = await getReviewForOrder(order.id, targetUserId);
            console.log('–î–ª—è –∑–∞–∫–∞–∑–∞', order.id, '–Ω–∞–π–¥–µ–Ω –æ—Ç–∑—ã–≤:', reviewForThisOrder);

            let reviewHtml = '';
            if (reviewForThisOrder && reviewForThisOrder.rating) {
              // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É
              reviewHtml = `
                <div class="existing-review">
                  <strong>–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞:</strong>
                  <div class="review-rating">${displayRatingStars(reviewForThisOrder.rating)}</div>
                </div>
              `;
            } else {
              // –û—Ç–∑—ã–≤–∞ –Ω–µ—Ç - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
              reviewHtml = `
                <button class="review-btn" data-order-id="${order.id}" data-service-id="${order.service_id}" data-service-name="${order.service_name || '–£—Å–ª—É–≥–∞'}">
                  –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
                </button>
              `;
            }

            div.innerHTML = `
              <div class="order-header">
                <h3 class="order-title">–ó–∞–∫–∞–∑ ‚Ññ${order.id} - ${order.service_name || '–£—Å–ª—É–≥–∞'}</h3>
                <span class="order-status ${getStatusClass(order.status)}">
                  ${getStatusText(order.status)}
                </span>
              </div>
              
              <div class="order-details">
                ${order.description ? `
                  <div class="order-description">
                    <strong>–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:</strong><br>
                    ${order.description}
                  </div>
                ` : ''}
                
                <div class="order-files">
                  ${filesHtml}
                </div>
              </div>
              
              <div class="order-meta">
                <span class="order-id">ID –∑–∞–∫–∞–∑–∞: ${order.id}</span>
                ${order.status === 'completed' ? `
                  <div class="review-section">
                    ${reviewHtml}
                  </div>
                ` : ''}
              </div>
            `;
            
            ordersContainer.appendChild(div);
          }

          // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –æ—Ç–∑—ã–≤–æ–≤
          document.querySelectorAll('.review-btn').forEach(button => {
            button.addEventListener('click', function() {
              const orderId = this.getAttribute('data-order-id');
              const serviceId = this.getAttribute('data-service-id');
              const serviceName = this.getAttribute('data-service-name');
              
              // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ—Å—Ç–∞–≤–ª–µ–Ω –ª–∏ —É–∂–µ –æ—Ç–∑—ã–≤ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
              getReviewForOrder(orderId, targetUserId).then(review => {
                if (review) {
                  alert('–í—ã —É–∂–µ –æ—Å—Ç–∞–≤–∏–ª–∏ –æ—Ç–∑—ã–≤ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–∫–∞–∑!');
                  return;
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ localStorage –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–∑—ã–≤–æ–≤
                localStorage.setItem('reviewOrderData', JSON.stringify({
                  orderId: orderId,
                  serviceId: serviceId,
                  serviceName: serviceName
                }));
                
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç–∑—ã–≤–æ–≤
                window.location.href = './ReviewsPage.html';
              });
            });
          });

        } else {
          ordersContainer.innerHTML = `
            <div class="no-orders">
              <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</h3>
              <p>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–£—Å–ª—É–≥–∏" —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑!</p>
              <a href="./ServicePage.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: #800000; color: white; text-decoration: none; border-radius: 6px;">
                –ü–µ—Ä–µ–π—Ç–∏ –∫ —É—Å–ª—É–≥–∞–º
              </a>
            </div>
          `;
        }

      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage –ø—Ä–∏ –æ—à–∏–±–∫–µ
        userFirstName.textContent = currentUser.firstName || '';
        userLastName.textContent = currentUser.lastName || '';
        userEmail.textContent = currentUser.email || '';
        userPhone.textContent = currentUser.phone || '';
        ordersContainer.innerHTML = `
          <div class="no-orders">
            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤</h3>
            <p>${error.message}</p>
            <button onclick="loadProfile()" style="margin-top: 15px; padding: 10px 20px; background: #800000; color: white; border: none; border-radius: 6px; cursor: pointer;">
              –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
            </button>
          </div>
        `;
      }
    }

    document.addEventListener('DOMContentLoaded', loadProfile);
  </script>
</body>
</html>